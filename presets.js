/**
 * Presets - Pre-defined patterns for different genres
 * Each preset specifies instruments per channel and patterns
 */

const PRESETS = {
    'house-1': {
        name: 'House 1',
        bpm: 125,
        instruments: [
            { name: 'kick', displayName: 'Kick' },
            { name: 'clap', displayName: 'Clap' },
            { name: 'hihat', displayName: 'Hi-Hat' },
            { name: 'openhat', displayName: 'Open HH' },
            { name: 'stab', displayName: 'Stab' },
            { name: 'bass', displayName: 'Bass' },
            { name: 'perc', displayName: 'Shaker' },
            { name: 'crash', displayName: 'Crash' }
        ],
        patterns: [
            // Pattern A - Classic House
            [
                [1,0,0,0, 1,0,0,0, 1,0,0,0, 1,0,0,0], // Kick
                [0,0,0,0, 1,0,0,0, 0,0,0,0, 1,0,0,0], // Clap
                [1,0,1,0, 1,0,1,0, 1,0,1,0, 1,0,1,0], // Hi-Hat
                [0,0,0,0, 0,0,1,0, 0,0,0,0, 0,0,1,0], // Open HH
                [0,0,0,0, 1,0,0,0, 0,0,0,0, 1,0,0,0], // Stab
                [1,0,0,0, 0,0,1,0, 0,0,0,0, 1,0,0,0], // Bass
                [0,0,1,0, 0,0,0,1, 0,0,1,0, 0,0,0,1], // Shaker
                [0,0,0,0, 0,0,0,0, 0,0,0,0, 0,0,0,0], // Crash
            ],
            // Pattern B - Variation
            [
                [1,0,0,0, 1,0,0,0, 1,0,0,0, 1,0,0,1], // Kick
                [0,0,0,0, 1,0,0,0, 0,0,0,0, 1,0,0,0], // Clap
                [1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1], // Hi-Hat
                [0,0,0,1, 0,0,0,1, 0,0,0,1, 0,0,0,0], // Open HH
                [0,0,0,0, 1,0,0,0, 0,0,0,0, 1,0,0,0], // Stab
                [1,0,0,0, 0,0,1,0, 1,0,0,0, 1,0,0,0], // Bass
                [0,0,1,0, 0,0,1,0, 0,0,1,0, 0,0,1,0], // Shaker
                [0,0,0,0, 0,0,0,0, 0,0,0,0, 0,0,0,0], // Crash
            ],
            // Pattern C - Breakdown
            [
                [1,0,0,0, 0,0,0,0, 1,0,0,0, 0,0,0,0], // Kick
                [0,0,0,0, 1,0,0,0, 0,0,0,0, 1,0,0,0], // Clap
                [1,0,1,0, 1,0,1,0, 1,0,1,0, 1,0,1,0], // Hi-Hat
                [0,0,0,0, 0,0,1,0, 0,0,0,0, 0,0,1,0], // Open HH
                [0,0,0,0, 0,0,0,0, 0,0,0,0, 0,0,0,0], // Stab
                [1,0,0,0, 0,0,0,0, 1,0,0,0, 0,0,0,0], // Bass
                [0,0,0,0, 0,0,0,0, 0,0,0,0, 0,0,0,0], // Shaker
                [0,0,0,0, 0,0,0,0, 0,0,0,0, 0,0,0,0], // Crash
            ],
            // Pattern D - Build
            [
                [1,0,1,0, 1,0,1,0, 1,0,1,0, 1,1,1,1], // Kick
                [0,0,0,0, 1,0,0,0, 0,0,0,0, 1,1,1,1], // Clap
                [1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1], // Hi-Hat
                [0,0,0,0, 0,0,0,0, 0,0,0,0, 0,0,0,0], // Open HH
                [0,0,0,0, 1,0,0,0, 0,0,0,0, 1,1,1,1], // Stab
                [1,0,0,0, 1,0,0,0, 1,0,0,0, 1,0,0,0], // Bass
                [1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1], // Shaker
                [0,0,0,0, 0,0,0,0, 0,0,0,0, 0,0,0,1], // Crash
            ]
        ]
    },

    'house-2': {
        name: 'House 2',
        bpm: 128,
        instruments: [
            { name: 'kick', displayName: 'Kick' },
            { name: 'rimshot', displayName: 'Rimshot' },
            { name: 'hihat', displayName: 'Hi-Hat' },
            { name: 'openhat', displayName: 'Open HH' },
            { name: 'pluck', displayName: 'Pluck' },
            { name: 'sub-bass', displayName: 'Sub Bass' },
            { name: 'perc', displayName: 'Perc' },
            { name: 'cowbell', displayName: 'Cowbell' }
        ],
        patterns: [
            // Pattern A - Deep House
            [
                [1,0,0,0, 0,0,1,0, 0,1,0,0, 0,0,1,0], // Kick
                [0,0,0,0, 1,0,0,0, 0,0,0,0, 1,0,0,0], // Rimshot
                [1,0,1,1, 1,0,1,1, 1,0,1,1, 1,0,1,1], // Hi-Hat
                [0,1,0,0, 0,1,0,0, 0,1,0,0, 0,1,0,0], // Open HH
                [0,0,0,0, 1,0,0,0, 0,0,0,0, 1,0,0,0], // Pluck
                [1,0,0,0, 0,0,1,0, 0,1,0,0, 0,0,1,0], // Sub Bass
                [0,0,0,1, 0,0,0,1, 0,0,0,1, 0,0,0,1], // Perc
                [0,0,0,0, 0,0,0,0, 0,0,0,0, 0,0,0,0], // Cowbell
            ],
            // Pattern B
            [
                [1,0,0,0, 1,0,1,0, 1,0,0,0, 1,0,1,0], // Kick
                [0,0,0,0, 1,0,0,0, 0,0,0,0, 1,0,0,0], // Rimshot
                [1,0,1,0, 1,0,1,0, 1,0,1,0, 1,0,1,0], // Hi-Hat
                [0,0,0,1, 0,0,0,1, 0,0,0,1, 0,0,0,0], // Open HH
                [1,0,0,0, 0,0,1,0, 0,0,0,0, 0,0,1,0], // Pluck
                [1,0,0,0, 1,0,1,0, 1,0,0,0, 1,0,1,0], // Sub Bass
                [0,1,0,1, 0,1,0,1, 0,1,0,1, 0,1,0,1], // Perc
                [0,0,0,0, 0,0,1,0, 0,0,0,0, 0,0,1,0], // Cowbell
            ],
            // Pattern C & D - Empty
            [
                [0,0,0,0, 0,0,0,0, 0,0,0,0, 0,0,0,0],
                [0,0,0,0, 0,0,0,0, 0,0,0,0, 0,0,0,0],
                [0,0,0,0, 0,0,0,0, 0,0,0,0, 0,0,0,0],
                [0,0,0,0, 0,0,0,0, 0,0,0,0, 0,0,0,0],
                [0,0,0,0, 0,0,0,0, 0,0,0,0, 0,0,0,0],
                [0,0,0,0, 0,0,0,0, 0,0,0,0, 0,0,0,0],
                [0,0,0,0, 0,0,0,0, 0,0,0,0, 0,0,0,0],
                [0,0,0,0, 0,0,0,0, 0,0,0,0, 0,0,0,0],
            ],
            [
                [0,0,0,0, 0,0,0,0, 0,0,0,0, 0,0,0,0],
                [0,0,0,0, 0,0,0,0, 0,0,0,0, 0,0,0,0],
                [0,0,0,0, 0,0,0,0, 0,0,0,0, 0,0,0,0],
                [0,0,0,0, 0,0,0,0, 0,0,0,0, 0,0,0,0],
                [0,0,0,0, 0,0,0,0, 0,0,0,0, 0,0,0,0],
                [0,0,0,0, 0,0,0,0, 0,0,0,0, 0,0,0,0],
                [0,0,0,0, 0,0,0,0, 0,0,0,0, 0,0,0,0],
                [0,0,0,0, 0,0,0,0, 0,0,0,0, 0,0,0,0],
            ]
        ]
    },

    'techno': {
        name: 'Techno',
        bpm: 135,
        instruments: [
            { name: 'hard-kick', displayName: 'Hard Kick' },
            { name: 'clap', displayName: 'Clap' },
            { name: 'hihat', displayName: 'Hi-Hat' },
            { name: 'openhat', displayName: 'Open HH' },
            { name: 'tom', displayName: 'Tom' },
            { name: 'acid-bass', displayName: 'Acid Bass' },
            { name: 'lead', displayName: 'Lead' },
            { name: 'crash', displayName: 'Crash' }
        ],
        patterns: [
            // Pattern A - Hard Techno
            [
                [1,0,0,0, 1,0,0,0, 1,0,0,0, 1,0,0,0], // Hard Kick (4/4)
                [0,0,0,0, 1,0,0,0, 0,0,0,0, 1,0,0,0], // Clap
                [1,0,1,0, 1,0,1,0, 1,0,1,0, 1,0,1,0], // Hi-Hat (16ths)
                [0,0,0,1, 0,0,0,1, 0,0,0,1, 0,0,0,1], // Open HH
                [0,0,0,1, 0,0,0,1, 0,0,0,1, 0,0,0,1], // Tom (accents)
                [1,0,0,0, 1,0,0,0, 1,0,0,0, 1,0,0,0], // Acid Bass
                [0,0,0,0, 1,0,0,0, 0,0,0,0, 0,0,0,0], // Lead
                [0,0,0,0, 0,0,0,0, 0,0,0,0, 0,0,0,0], // Crash
            ],
            // Pattern B - Minimal Techno
            [
                [1,0,0,0, 1,0,0,0, 1,0,0,0, 1,0,0,0], // Hard Kick
                [0,0,0,0, 0,0,0,0, 0,0,0,0, 0,0,0,0], // Clap (none)
                [0,0,1,0, 0,0,1,0, 0,0,1,0, 0,0,1,0], // Hi-Hat (sparse)
                [0,0,0,1, 0,0,0,1, 0,0,0,1, 0,0,0,1], // Open HH
                [0,0,0,0, 0,0,0,0, 0,0,0,0, 0,0,0,0], // Tom
                [1,0,0,0, 0,0,1,0, 0,0,0,0, 0,0,1,0], // Acid Bass (sparse)
                [0,0,0,0, 0,0,0,0, 0,0,0,0, 0,0,0,0], // Lead
                [0,0,0,0, 0,0,0,0, 0,0,0,0, 0,0,0,0], // Crash
            ],
            // Pattern C - Industrial Techno
            [
                [1,0,0,1, 1,0,0,1, 1,0,0,1, 1,0,0,1], // Hard Kick (offbeat)
                [0,0,0,0, 1,0,0,0, 0,0,0,0, 1,0,0,0], // Clap
                [1,1,0,1, 1,1,0,1, 1,1,0,1, 1,1,0,1], // Hi-Hat (broken)
                [0,0,1,0, 0,0,1,0, 0,0,1,0, 0,0,1,0], // Open HH
                [0,0,0,0, 0,0,0,0, 1,0,0,0, 1,0,0,0], // Tom
                [1,0,0,1, 1,0,0,1, 1,0,0,1, 1,0,0,1], // Acid Bass
                [0,0,1,0, 0,0,0,0, 0,0,1,0, 0,0,0,0], // Lead (stabs)
                [0,0,0,0, 0,0,0,0, 0,0,0,0, 0,0,0,0], // Crash
            ],
            // Pattern D - Peak Time
            [
                [1,0,0,0, 1,0,0,0, 1,0,0,0, 1,0,0,0], // Hard Kick
                [0,0,0,0, 1,0,0,0, 0,0,0,0, 1,0,0,0], // Clap
                [1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1], // Hi-Hat (constant)
                [0,0,0,0, 0,0,1,0, 0,0,0,0, 0,0,1,0], // Open HH
                [0,0,0,0, 0,0,0,0, 0,0,0,0, 0,0,0,0], // Tom
                [1,0,1,0, 1,0,1,0, 1,0,1,0, 1,0,1,0], // Acid Bass (intense)
                [1,0,0,0, 0,0,0,0, 1,0,0,0, 0,0,0,0], // Lead
                [0,0,0,0, 0,0,0,0, 0,0,0,0, 0,0,0,1], // Crash
            ]
        ]
    },

    'hip-hop': {
        name: 'Hip Hop',
        bpm: 90,
        instruments: [
            { name: '808-kick', displayName: '808 Kick' },
            { name: 'punchy-snare', displayName: 'Snare' },
            { name: 'hihat', displayName: 'Hi-Hat' },
            { name: 'openhat', displayName: 'Open HH' },
            { name: 'rimshot', displayName: 'Rimshot' },
            { name: 'sub-bass', displayName: '808 Bass' },
            { name: 'perc', displayName: 'Perc' },
            { name: 'crash', displayName: 'Crash' }
        ],
        patterns: [
            // Pattern A - Boom Bap
            [
                [1,0,0,0, 0,0,1,0, 0,0,0,0, 0,1,0,0], // 808 Kick
                [0,0,0,0, 1,0,0,0, 0,0,0,0, 1,0,0,0], // Snare
                [1,0,1,0, 1,0,1,0, 1,0,1,0, 1,0,1,0], // Hi-Hat
                [0,0,0,1, 0,0,0,0, 0,0,0,1, 0,0,0,0], // Open HH
                [0,0,0,0, 0,0,0,0, 0,0,0,0, 0,0,0,0], // Rimshot
                [1,0,0,0, 0,0,1,0, 0,0,0,0, 0,1,0,0], // 808 Bass
                [0,0,0,0, 0,0,0,0, 1,0,0,0, 0,0,0,0], // Perc
                [0,0,0,0, 0,0,0,0, 0,0,0,0, 0,0,0,0], // Crash
            ],
            // Pattern B - Trap-ish
            [
                [1,0,0,0, 0,0,1,0, 0,1,0,0, 0,0,1,0], // 808 Kick
                [0,0,0,0, 1,0,0,0, 0,0,0,0, 1,0,0,0], // Snare
                [1,0,1,1, 1,0,1,1, 1,0,1,1, 1,0,1,1], // Hi-Hat
                [0,0,0,0, 0,0,0,1, 0,0,0,0, 0,0,0,1], // Open HH
                [0,0,0,0, 0,0,0,0, 0,0,0,0, 0,0,0,0], // Rimshot
                [1,0,0,0, 0,0,1,0, 0,1,0,0, 0,0,1,0], // 808 Bass
                [0,0,0,1, 0,0,0,1, 0,0,0,1, 0,0,0,1], // Perc
                [0,0,0,0, 0,0,0,0, 0,0,0,0, 0,0,0,0], // Crash
            ],
            // Pattern C
            [
                [1,0,0,0, 0,1,0,0, 1,0,0,0, 0,0,1,0], // 808 Kick
                [0,0,0,0, 1,0,0,0, 0,0,0,0, 1,0,0,0], // Snare
                [0,1,0,1, 0,1,0,1, 0,1,0,1, 0,1,0,1], // Hi-Hat
                [0,0,1,0, 0,0,1,0, 0,0,1,0, 0,0,1,0], // Open HH
                [0,0,0,0, 0,0,0,0, 0,0,0,0, 0,0,0,0], // Rimshot
                [1,0,0,0, 0,1,0,0, 1,0,0,0, 0,0,1,0], // 808 Bass
                [0,0,0,0, 0,0,0,0, 0,0,1,0, 0,0,0,0], // Perc
                [0,0,0,0, 0,0,0,0, 0,0,0,0, 0,0,0,0], // Crash
            ],
            // Pattern D
            [
                [1,0,0,0, 0,0,0,0, 1,0,0,0, 0,0,0,0], // 808 Kick
                [0,0,0,0, 1,0,0,0, 0,0,0,0, 1,0,0,0], // Snare
                [1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1], // Hi-Hat
                [0,0,0,0, 0,0,0,0, 0,0,0,0, 0,0,0,0], // Open HH
                [0,0,0,0, 1,0,0,0, 0,0,0,0, 1,0,0,0], // Rimshot
                [1,0,0,0, 0,0,0,0, 1,0,0,0, 0,0,0,0], // 808 Bass
                [0,1,0,0, 0,1,0,0, 0,1,0,0, 0,1,0,0], // Perc
                [0,0,0,0, 0,0,0,0, 0,0,0,0, 0,0,0,0], // Crash
            ]
        ]
    },

    'dnb': {
        name: 'Drum & Bass',
        bpm: 174,
        instruments: [
            { name: 'kick', displayName: 'Kick' },
            { name: 'punchy-snare', displayName: 'Snare' },
            { name: 'hihat', displayName: 'Hi-Hat' },
            { name: 'openhat', displayName: 'Open HH' },
            { name: 'snare-roll', displayName: 'Roll' },
            { name: 'reese-bass', displayName: 'Reese Bass' },
            { name: 'arpeggio', displayName: 'Arp' },
            { name: 'crash', displayName: 'Crash' }
        ],
        patterns: [
            // Pattern A - Neurofunk
            [
                [1,0,0,0, 0,0,0,0, 0,0,1,0, 0,0,0,0], // Kick (2-step)
                [0,0,0,0, 1,0,0,0, 0,0,0,0, 1,0,0,0], // Snare
                [1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1], // Hi-Hat (constant)
                [0,0,0,1, 0,0,0,0, 0,0,0,1, 0,0,0,0], // Open HH
                [0,0,0,0, 0,0,0,0, 0,0,0,0, 0,0,0,0], // Roll
                [1,0,0,0, 0,0,1,1, 0,0,1,0, 0,1,0,0], // Reese (complex)
                [0,0,1,0, 0,0,0,0, 0,0,1,0, 0,0,0,0], // Arp
                [0,0,0,0, 0,0,0,0, 0,0,0,0, 0,0,0,0], // Crash
            ],
            // Pattern B - Jungle
            [
                [1,0,0,0, 0,0,1,0, 0,0,0,0, 1,0,0,0], // Kick (Amen)
                [0,0,0,0, 1,0,0,1, 0,0,0,0, 1,0,1,0], // Snare (breakbeat)
                [1,0,1,1, 1,0,1,1, 1,0,1,1, 1,0,1,1], // Hi-Hat (shuffle)
                [0,0,0,0, 0,0,0,0, 0,0,0,0, 0,0,0,0], // Open HH
                [0,0,0,0, 0,0,0,0, 0,0,0,0, 0,0,0,0], // Roll
                [1,0,1,0, 0,0,1,0, 1,0,0,0, 1,0,0,0], // Reese
                [1,0,0,1, 0,1,0,0, 1,0,0,1, 0,1,0,0], // Arp (melody)
                [0,0,0,0, 0,0,0,0, 0,0,0,0, 0,0,0,0], // Crash
            ],
            // Pattern C - Liquid
            [
                [1,0,0,0, 0,0,0,0, 0,0,1,0, 0,0,0,0], // Kick
                [0,0,0,0, 1,0,0,0, 0,0,0,0, 1,0,0,0], // Snare
                [1,0,1,1, 1,0,1,1, 1,0,1,1, 1,0,1,1], // Hi-Hat (smooth)
                [0,0,0,0, 0,0,0,1, 0,0,0,0, 0,0,0,1], // Open HH
                [0,0,0,0, 0,0,0,0, 0,0,0,0, 0,0,0,0], // Roll
                [1,0,0,0, 0,0,1,1, 0,0,1,0, 0,1,0,0], // Reese
                [1,0,0,1, 0,0,1,0, 0,1,0,0, 1,0,0,0], // Arp (melodic)
                [1,0,0,0, 0,0,0,0, 0,0,0,0, 0,0,0,0], // Crash
            ],
            // Pattern D - Jump Up
            [
                [1,0,0,0, 0,0,1,0, 1,0,0,0, 0,0,1,0], // Kick (energetic)
                [0,0,0,0, 1,0,0,0, 0,0,0,0, 1,0,1,0], // Snare
                [1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1], // Hi-Hat
                [0,0,0,1, 0,0,0,1, 0,0,0,1, 0,0,0,0], // Open HH
                [0,0,0,0, 0,0,0,0, 0,0,0,0, 1,1,1,1], // Roll (build)
                [1,0,1,0, 1,0,1,0, 1,0,1,0, 1,0,0,0], // Reese (rolling)
                [1,0,1,0, 1,0,1,0, 1,0,1,0, 1,0,1,0], // Arp
                [0,0,0,0, 0,0,0,0, 0,0,0,0, 0,0,0,0], // Crash
            ]
        ]
    },

    'breakbeat': {
        name: 'Breakbeat',
        bpm: 140,
        instruments: [
            { name: 'kick', displayName: 'Kick' },
            { name: 'snare', displayName: 'Snare' },
            { name: 'hihat', displayName: 'Hi-Hat' },
            { name: 'openhat', displayName: 'Open HH' },
            { name: 'tom', displayName: 'Tom' },
            { name: 'bass', displayName: 'Bass' },
            { name: 'perc', displayName: 'Perc' },
            { name: 'crash', displayName: 'Crash' }
        ],
        patterns: [
            // Pattern A
            [
                [1,0,0,0, 0,0,1,0, 0,1,0,0, 0,0,0,0], // Kick
                [0,0,0,0, 1,0,0,0, 0,0,0,1, 1,0,0,0], // Snare
                [1,0,1,1, 1,0,1,0, 1,0,1,1, 1,0,1,0], // Hi-Hat
                [0,1,0,0, 0,1,0,1, 0,1,0,0, 0,1,0,1], // Open HH
                [0,0,0,0, 0,0,0,0, 0,0,0,0, 0,0,0,1], // Tom
                [1,0,0,0, 0,0,1,0, 0,1,0,0, 0,0,0,0], // Bass
                [0,0,1,0, 0,0,0,0, 0,0,1,0, 0,0,0,0], // Perc
                [0,0,0,0, 0,0,0,0, 0,0,0,0, 0,0,0,0], // Crash
            ],
            // Pattern B-D - Empty
            [
                [0,0,0,0, 0,0,0,0, 0,0,0,0, 0,0,0,0],
                [0,0,0,0, 0,0,0,0, 0,0,0,0, 0,0,0,0],
                [0,0,0,0, 0,0,0,0, 0,0,0,0, 0,0,0,0],
                [0,0,0,0, 0,0,0,0, 0,0,0,0, 0,0,0,0],
                [0,0,0,0, 0,0,0,0, 0,0,0,0, 0,0,0,0],
                [0,0,0,0, 0,0,0,0, 0,0,0,0, 0,0,0,0],
                [0,0,0,0, 0,0,0,0, 0,0,0,0, 0,0,0,0],
                [0,0,0,0, 0,0,0,0, 0,0,0,0, 0,0,0,0],
            ],
            [
                [0,0,0,0, 0,0,0,0, 0,0,0,0, 0,0,0,0],
                [0,0,0,0, 0,0,0,0, 0,0,0,0, 0,0,0,0],
                [0,0,0,0, 0,0,0,0, 0,0,0,0, 0,0,0,0],
                [0,0,0,0, 0,0,0,0, 0,0,0,0, 0,0,0,0],
                [0,0,0,0, 0,0,0,0, 0,0,0,0, 0,0,0,0],
                [0,0,0,0, 0,0,0,0, 0,0,0,0, 0,0,0,0],
                [0,0,0,0, 0,0,0,0, 0,0,0,0, 0,0,0,0],
                [0,0,0,0, 0,0,0,0, 0,0,0,0, 0,0,0,0],
            ],
            [
                [0,0,0,0, 0,0,0,0, 0,0,0,0, 0,0,0,0],
                [0,0,0,0, 0,0,0,0, 0,0,0,0, 0,0,0,0],
                [0,0,0,0, 0,0,0,0, 0,0,0,0, 0,0,0,0],
                [0,0,0,0, 0,0,0,0, 0,0,0,0, 0,0,0,0],
                [0,0,0,0, 0,0,0,0, 0,0,0,0, 0,0,0,0],
                [0,0,0,0, 0,0,0,0, 0,0,0,0, 0,0,0,0],
                [0,0,0,0, 0,0,0,0, 0,0,0,0, 0,0,0,0],
                [0,0,0,0, 0,0,0,0, 0,0,0,0, 0,0,0,0],
            ]
        ]
    },

    'classic-house': {
        name: 'Classic House',
        bpm: 122,
        instruments: [
            { name: 'sidechain-kick', displayName: 'Kick' },
            { name: 'clap', displayName: 'Clap' },
            { name: 'hihat', displayName: 'Hi-Hat' },
            { name: 'openhat', displayName: 'Open HH' },
            { name: 'piano-stab', displayName: 'Piano' },
            { name: 'hoover-bass', displayName: 'Hoover' },
            { name: 'perc', displayName: 'Shaker' },
            { name: 'crash', displayName: 'Crash' }
        ],
        patterns: [
            // Pattern A - Main Groove
            [
                [1,0,0,0, 1,0,0,0, 1,0,0,0, 1,0,0,0], // Kick (four-on-floor)
                [0,0,0,0, 1,0,0,0, 0,0,0,0, 1,0,0,0], // Clap
                [1,0,1,0, 1,0,1,0, 1,0,1,0, 1,0,1,0], // Hi-Hat (16ths)
                [0,0,0,0, 0,0,1,0, 0,0,0,0, 0,0,1,0], // Open HH
                [1,0,0,0, 0,0,0,0, 1,0,0,0, 0,0,0,0], // Piano
                [1,0,0,0, 0,0,0,0, 1,0,0,0, 0,0,0,0], // Hoover
                [0,0,1,0, 0,0,1,0, 0,0,1,0, 0,0,1,0], // Shaker
                [0,0,0,0, 0,0,0,0, 0,0,0,0, 0,0,0,0], // Crash
            ],
            // Pattern B - Variation with Piano
            [
                [1,0,0,0, 1,0,0,0, 1,0,0,0, 1,0,0,0], // Kick
                [0,0,0,0, 1,0,0,0, 0,0,0,0, 1,0,0,0], // Clap
                [1,0,1,0, 1,0,1,0, 1,0,1,0, 1,0,1,0], // Hi-Hat
                [0,0,0,1, 0,0,0,1, 0,0,0,1, 0,0,0,1], // Open HH
                [1,0,0,0, 1,0,0,0, 1,0,0,0, 1,0,0,0], // Piano (every beat)
                [1,0,0,0, 0,0,1,0, 1,0,0,0, 0,0,1,0], // Hoover
                [1,0,1,0, 1,0,1,0, 1,0,1,0, 1,0,1,0], // Shaker
                [0,0,0,0, 0,0,0,0, 0,0,0,0, 0,0,0,0], // Crash
            ],
            // Pattern C - Breakdown
            [
                [1,0,0,0, 0,0,0,0, 1,0,0,0, 0,0,0,0], // Kick (half time)
                [0,0,0,0, 1,0,0,0, 0,0,0,0, 1,0,0,0], // Clap
                [1,0,1,0, 1,0,1,0, 1,0,1,0, 1,0,1,0], // Hi-Hat
                [0,0,0,0, 0,0,1,0, 0,0,0,0, 0,0,1,0], // Open HH
                [1,0,0,0, 0,0,0,0, 0,0,0,0, 0,0,0,0], // Piano
                [1,0,0,0, 0,0,0,0, 0,0,0,0, 0,0,0,0], // Hoover
                [0,0,0,0, 0,0,0,0, 0,0,0,0, 0,0,0,0], // Shaker
                [1,0,0,0, 0,0,0,0, 0,0,0,0, 0,0,0,0], // Crash
            ],
            // Pattern D - Build Up
            [
                [1,0,1,0, 1,0,1,0, 1,0,1,0, 1,1,1,1], // Kick (building)
                [0,0,0,0, 1,0,0,0, 0,0,0,0, 1,1,1,1], // Clap
                [1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1], // Hi-Hat (constant)
                [0,0,0,0, 0,0,0,0, 0,0,0,0, 1,1,1,1], // Open HH
                [0,0,0,0, 1,0,0,0, 0,0,0,0, 1,1,1,1], // Piano
                [1,0,0,0, 1,0,0,0, 1,0,0,0, 1,0,0,0], // Hoover
                [1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1], // Shaker
                [0,0,0,0, 0,0,0,0, 0,0,0,0, 0,0,0,1], // Crash
            ]
        ]
    },

    'modern-house': {
        name: 'Modern House',
        bpm: 126,
        instruments: [
            { name: 'sidechain-kick', displayName: 'Kick' },
            { name: 'side-stick', displayName: 'Stick' },
            { name: 'hihat', displayName: 'Hi-Hat' },
            { name: 'openhat', displayName: 'Open HH' },
            { name: 'vocal-chop', displayName: 'Vocal' },
            { name: 'saw-bass', displayName: 'Bass' },
            { name: 'pluck', displayName: 'Pluck' },
            { name: 'riser', displayName: 'Riser' }
        ],
        patterns: [
            // Pattern A - Progressive Groove
            [
                [1,0,0,0, 1,0,0,0, 1,0,0,0, 1,0,0,0], // Kick
                [0,0,0,0, 1,0,0,0, 0,0,0,0, 1,0,0,0], // Side Stick
                [1,0,1,0, 1,0,1,0, 1,0,1,0, 1,0,1,0], // Hi-Hat
                [0,0,0,1, 0,0,0,1, 0,0,0,1, 0,0,0,1], // Open HH
                [0,0,0,0, 1,0,0,0, 0,0,0,0, 0,0,0,0], // Vocal
                [1,0,0,0, 0,0,1,0, 0,0,1,0, 0,0,0,0], // Bass
                [0,0,1,0, 0,0,0,0, 0,0,1,0, 0,0,0,0], // Pluck
                [0,0,0,0, 0,0,0,0, 0,0,0,0, 0,0,0,0], // Riser
            ],
            // Pattern B - Energy Up
            [
                [1,0,0,0, 1,0,0,0, 1,0,0,0, 1,0,0,0], // Kick
                [0,0,0,0, 1,0,0,0, 0,0,0,0, 1,0,1,0], // Side Stick
                [1,1,1,0, 1,1,1,0, 1,1,1,0, 1,1,1,0], // Hi-Hat
                [0,0,0,1, 0,0,0,1, 0,0,0,1, 0,0,0,0], // Open HH
                [0,0,0,0, 1,0,0,0, 0,0,0,0, 1,0,0,0], // Vocal
                [1,0,0,0, 0,0,1,0, 1,0,1,0, 0,0,1,0], // Bass
                [0,0,1,0, 0,0,1,0, 0,0,1,0, 0,0,1,0], // Pluck
                [0,0,0,0, 0,0,0,0, 0,0,0,0, 0,0,0,0], // Riser
            ],
            // Pattern C - Drop
            [
                [1,0,0,0, 1,0,0,0, 1,0,0,0, 1,0,0,0], // Kick
                [0,0,0,0, 1,0,0,0, 0,0,0,0, 1,0,0,0], // Side Stick
                [1,0,1,1, 1,0,1,1, 1,0,1,1, 1,0,1,1], // Hi-Hat
                [0,1,0,0, 0,1,0,0, 0,1,0,0, 0,1,0,0], // Open HH
                [1,0,0,0, 0,0,0,0, 1,0,0,0, 0,0,0,0], // Vocal
                [1,0,0,0, 1,0,1,0, 1,0,0,0, 1,0,1,0], // Bass
                [1,0,0,0, 1,0,0,0, 1,0,0,0, 1,0,0,0], // Pluck
                [1,0,0,0, 0,0,0,0, 0,0,0,0, 0,0,0,0], // Riser (drop marker)
            ],
            // Pattern D - Build
            [
                [1,0,0,0, 1,0,0,0, 1,0,1,0, 1,1,1,1], // Kick (building)
                [0,0,0,0, 1,0,0,0, 0,0,0,0, 1,1,1,1], // Side Stick
                [1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1], // Hi-Hat
                [0,0,0,0, 0,0,0,0, 0,0,0,0, 1,1,1,1], // Open HH
                [0,0,0,0, 1,0,0,0, 0,0,0,0, 0,0,0,0], // Vocal
                [1,0,0,0, 1,0,0,0, 1,0,0,0, 0,0,0,0], // Bass
                [0,0,0,0, 0,0,0,0, 1,1,1,1, 1,1,1,1], // Pluck
                [0,0,0,0, 0,0,0,0, 0,0,0,0, 1,0,0,0], // Riser (build up)
            ]
        ]
    },

    'deep-house': {
        name: 'Deep House',
        bpm: 120,
        instruments: [
            { name: 'kick', displayName: 'Kick' },
            { name: 'rimshot', displayName: 'Rimshot' },
            { name: 'hihat', displayName: 'Hi-Hat' },
            { name: 'openhat', displayName: 'Open HH' },
            { name: 'chord', displayName: 'Chord' },
            { name: 'sub-bass', displayName: 'Sub Bass' },
            { name: 'bongo', displayName: 'Bongo' },
            { name: 'conga', displayName: 'Conga' }
        ],
        patterns: [
            // Pattern A - Jazzy Groove
            [
                [1,0,0,0, 0,0,1,0, 0,1,0,0, 0,0,1,0], // Kick (syncopated)
                [0,0,0,0, 1,0,0,0, 0,0,0,0, 1,0,0,0], // Rimshot
                [1,0,1,1, 1,0,1,1, 1,0,1,1, 1,0,1,1], // Hi-Hat (shuffle)
                [0,1,0,0, 0,1,0,0, 0,1,0,0, 0,1,0,0], // Open HH
                [1,0,0,0, 0,0,0,0, 1,0,0,0, 0,0,0,0], // Chord
                [1,0,0,0, 0,0,1,0, 0,1,0,0, 0,0,1,0], // Sub Bass
                [0,0,0,1, 0,0,0,1, 0,0,0,1, 0,0,0,1], // Bongo
                [0,0,1,0, 0,0,0,0, 0,0,1,0, 0,0,0,0], // Conga
            ],
            // Pattern B - Smooth
            [
                [1,0,0,0, 1,0,0,0, 1,0,0,0, 1,0,0,0], // Kick
                [0,0,0,0, 1,0,0,0, 0,0,0,0, 1,0,0,0], // Rimshot
                [1,0,1,0, 1,0,1,0, 1,0,1,0, 1,0,1,0], // Hi-Hat
                [0,0,0,1, 0,0,0,1, 0,0,0,1, 0,0,0,0], // Open HH
                [1,0,0,0, 0,0,1,0, 0,0,0,0, 0,0,1,0], // Chord
                [1,0,0,0, 1,0,0,0, 1,0,0,0, 1,0,0,0], // Sub Bass
                [0,1,0,1, 0,1,0,1, 0,1,0,1, 0,1,0,1], // Bongo
                [0,0,0,0, 0,0,1,0, 0,0,0,0, 0,0,1,0], // Conga
            ],
            // Pattern C - Minimal
            [
                [1,0,0,0, 0,0,0,0, 1,0,0,0, 0,0,0,0], // Kick (sparse)
                [0,0,0,0, 1,0,0,0, 0,0,0,0, 1,0,0,0], // Rimshot
                [1,0,1,0, 1,0,1,0, 1,0,1,0, 1,0,1,0], // Hi-Hat
                [0,0,0,0, 0,0,1,0, 0,0,0,0, 0,0,1,0], // Open HH
                [1,0,0,0, 0,0,0,0, 0,0,0,0, 0,0,0,0], // Chord
                [1,0,0,0, 0,0,0,0, 1,0,0,0, 0,0,0,0], // Sub Bass
                [0,0,0,0, 0,0,0,0, 0,0,0,0, 0,0,0,0], // Bongo
                [0,0,0,0, 0,0,0,0, 0,0,0,0, 0,0,0,0], // Conga
            ],
            // Pattern D - Full Groove
            [
                [1,0,0,0, 0,0,1,0, 0,1,0,0, 0,0,1,0], // Kick
                [0,0,0,0, 1,0,0,0, 0,0,0,0, 1,0,0,0], // Rimshot
                [1,0,1,1, 1,0,1,1, 1,0,1,1, 1,0,1,1], // Hi-Hat
                [0,1,0,0, 0,1,0,1, 0,1,0,0, 0,1,0,1], // Open HH
                [1,0,0,0, 1,0,0,0, 1,0,0,0, 1,0,0,0], // Chord
                [1,0,0,0, 0,0,1,0, 0,1,0,0, 0,0,1,0], // Sub Bass
                [0,0,1,0, 0,1,0,1, 0,0,1,0, 0,1,0,1], // Bongo
                [0,1,0,0, 0,0,1,0, 0,1,0,0, 0,0,1,0], // Conga
            ]
        ]
    },

    'future-house': {
        name: 'Future House',
        bpm: 128,
        instruments: [
            { name: 'sidechain-kick', displayName: 'Kick' },
            { name: 'clap', displayName: 'Clap' },
            { name: 'hihat', displayName: 'Hi-Hat' },
            { name: 'openhat', displayName: 'Open HH' },
            { name: 'lead', displayName: 'Lead' },
            { name: 'saw-bass', displayName: 'Bass' },
            { name: 'vocal-chop', displayName: 'Vocal' },
            { name: 'zap', displayName: 'Zap' }
        ],
        patterns: [
            // Pattern A - Bouncy
            [
                [1,0,0,0, 1,0,0,0, 1,0,0,0, 1,0,0,0], // Kick
                [0,0,0,0, 1,0,0,0, 0,0,0,0, 1,0,0,0], // Clap
                [1,0,1,1, 1,0,1,1, 1,0,1,1, 1,0,1,1], // Hi-Hat (bounce)
                [0,0,0,0, 0,0,0,1, 0,0,0,0, 0,0,0,1], // Open HH
                [0,0,0,0, 1,0,0,0, 0,0,0,0, 0,0,0,0], // Lead
                [1,0,0,0, 0,0,1,0, 1,0,0,0, 0,0,1,0], // Bass (bouncy)
                [0,0,0,0, 0,0,0,0, 1,0,0,0, 0,0,0,0], // Vocal
                [0,0,0,1, 0,0,0,0, 0,0,0,1, 0,0,0,0], // Zap
            ],
            // Pattern B - Drop
            [
                [1,0,0,0, 1,0,0,0, 1,0,0,0, 1,0,0,0], // Kick
                [0,0,0,0, 1,0,0,0, 0,0,0,0, 1,0,1,0], // Clap
                [1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1], // Hi-Hat
                [0,0,0,1, 0,0,0,1, 0,0,0,1, 0,0,0,0], // Open HH
                [1,0,0,0, 0,0,0,0, 1,0,0,0, 0,0,0,0], // Lead
                [1,0,0,0, 1,0,1,0, 1,0,0,0, 1,0,1,0], // Bass
                [0,0,0,0, 1,0,0,0, 0,0,0,0, 1,0,0,0], // Vocal
                [0,0,1,0, 0,0,0,0, 0,0,1,0, 0,0,0,0], // Zap
            ],
            // Pattern C - Breakdown
            [
                [1,0,0,0, 0,0,0,0, 1,0,0,0, 0,0,0,0], // Kick
                [0,0,0,0, 1,0,0,0, 0,0,0,0, 1,0,0,0], // Clap
                [1,0,1,0, 1,0,1,0, 1,0,1,0, 1,0,1,0], // Hi-Hat
                [0,0,0,0, 0,0,1,0, 0,0,0,0, 0,0,1,0], // Open HH
                [1,0,0,0, 0,0,0,0, 0,0,0,0, 0,0,0,0], // Lead
                [1,0,0,0, 0,0,0,0, 1,0,0,0, 0,0,0,0], // Bass
                [0,0,0,0, 0,0,0,0, 0,0,0,0, 0,0,0,0], // Vocal
                [0,0,0,0, 0,0,0,0, 0,0,0,0, 0,0,0,0], // Zap
            ],
            // Pattern D - Build
            [
                [1,0,0,0, 1,0,1,0, 1,0,1,0, 1,1,1,1], // Kick (building)
                [0,0,0,0, 1,0,0,0, 0,0,0,0, 1,1,1,1], // Clap
                [1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1], // Hi-Hat
                [0,0,0,0, 0,0,0,0, 0,0,0,0, 1,1,1,1], // Open HH
                [0,0,0,0, 1,0,0,0, 0,0,0,0, 0,0,0,0], // Lead
                [1,0,0,0, 1,0,0,0, 1,0,0,0, 0,0,0,0], // Bass
                [0,0,0,0, 0,0,0,0, 1,0,1,0, 1,1,1,1], // Vocal
                [0,0,0,0, 0,0,0,0, 0,1,0,1, 1,1,1,1], // Zap (riser effect)
            ]
        ]
    },

    'tech-house': {
        name: 'Tech House',
        bpm: 125,
        instruments: [
            { name: 'hard-kick', displayName: 'Kick' },
            { name: 'side-stick', displayName: 'Stick' },
            { name: 'hihat', displayName: 'Hi-Hat' },
            { name: 'openhat', displayName: 'Open HH' },
            { name: 'perc', displayName: 'Perc' },
            { name: 'fm-bass', displayName: 'FM Bass' },
            { name: 'cowbell', displayName: 'Cowbell' },
            { name: 'timbale', displayName: 'Timbale' }
        ],
        patterns: [
            // Pattern A - Minimal Groove
            [
                [1,0,0,0, 1,0,0,0, 1,0,0,0, 1,0,0,0], // Kick
                [0,0,0,0, 1,0,0,0, 0,0,0,0, 1,0,0,0], // Side Stick
                [1,0,1,0, 1,0,1,0, 1,0,1,0, 1,0,1,0], // Hi-Hat
                [0,0,0,1, 0,0,0,1, 0,0,0,1, 0,0,0,1], // Open HH
                [0,0,1,0, 0,0,0,1, 0,0,1,0, 0,0,0,1], // Perc
                [1,0,0,0, 0,0,1,0, 0,0,0,0, 0,0,1,0], // FM Bass
                [0,0,0,0, 0,0,0,0, 0,0,0,0, 0,0,0,0], // Cowbell
                [0,0,0,0, 0,0,0,0, 0,0,0,0, 0,0,0,0], // Timbale
            ],
            // Pattern B - Groovy
            [
                [1,0,0,0, 1,0,0,0, 1,0,0,0, 1,0,0,0], // Kick
                [0,0,0,0, 1,0,0,0, 0,0,0,0, 1,0,1,0], // Side Stick
                [1,0,1,1, 1,0,1,0, 1,0,1,1, 1,0,1,0], // Hi-Hat (groove)
                [0,0,0,0, 0,0,0,1, 0,0,0,0, 0,0,0,1], // Open HH
                [0,1,0,1, 0,1,0,1, 0,1,0,1, 0,1,0,1], // Perc
                [1,0,0,0, 0,0,1,0, 1,0,0,0, 0,0,1,0], // FM Bass
                [0,0,0,0, 0,0,1,0, 0,0,0,0, 0,0,1,0], // Cowbell
                [0,0,0,0, 0,0,0,0, 0,0,0,1, 0,0,0,0], // Timbale
            ],
            // Pattern C - Stripped
            [
                [1,0,0,0, 1,0,0,0, 1,0,0,0, 1,0,0,0], // Kick
                [0,0,0,0, 0,0,0,0, 0,0,0,0, 0,0,0,0], // Side Stick
                [0,0,1,0, 0,0,1,0, 0,0,1,0, 0,0,1,0], // Hi-Hat (minimal)
                [0,0,0,1, 0,0,0,1, 0,0,0,1, 0,0,0,1], // Open HH
                [0,0,0,0, 0,0,0,1, 0,0,0,0, 0,0,0,1], // Perc
                [1,0,0,0, 0,0,0,0, 1,0,0,0, 0,0,0,0], // FM Bass (minimal)
                [0,0,0,0, 0,0,0,0, 0,0,0,0, 0,0,0,0], // Cowbell
                [0,0,0,0, 0,0,0,0, 0,0,0,0, 0,0,0,0], // Timbale
            ],
            // Pattern D - Peak Time
            [
                [1,0,0,0, 1,0,0,0, 1,0,0,0, 1,0,0,0], // Kick
                [0,0,0,0, 1,0,0,0, 0,0,0,0, 1,0,0,0], // Side Stick
                [1,0,1,1, 1,0,1,1, 1,0,1,1, 1,0,1,1], // Hi-Hat
                [0,1,0,0, 0,1,0,1, 0,1,0,0, 0,1,0,1], // Open HH
                [1,0,1,0, 1,0,1,0, 1,0,1,0, 1,0,1,0], // Perc
                [1,0,0,0, 1,0,1,0, 1,0,0,0, 1,0,1,0], // FM Bass
                [0,0,1,0, 0,0,0,0, 0,0,1,0, 0,0,0,0], // Cowbell
                [0,0,0,0, 0,0,1,0, 0,0,0,0, 0,0,1,0], // Timbale
            ]
        ]
    },

    'trap': {
        name: 'Trap',
        bpm: 140,
        instruments: [
            { name: '808-kick', displayName: '808 Kick' },
            { name: 'punchy-snare', displayName: 'Snare' },
            { name: 'trap-hat', displayName: 'Trap Hat' },
            { name: 'snare-roll', displayName: 'Roll' },
            { name: 'openhat', displayName: 'Open HH' },
            { name: 'sub-bass', displayName: '808 Bass' },
            { name: 'vocal-chop', displayName: 'Vocal' },
            { name: 'zap', displayName: 'FX' }
        ],
        patterns: [
            // Pattern A - Classic Trap
            [
                [1,0,0,0, 0,0,1,0, 0,0,0,0, 0,0,1,0], // 808 Kick
                [0,0,0,0, 1,0,0,0, 0,0,0,0, 1,0,0,0], // Snare
                [1,0,1,1, 1,0,1,1, 1,0,1,1, 1,0,1,1], // Trap Hat (triplet feel)
                [0,0,0,0, 0,0,0,0, 0,0,0,0, 0,0,0,0], // Roll
                [0,0,0,0, 0,0,0,1, 0,0,0,0, 0,0,0,1], // Open HH
                [1,0,0,0, 0,0,1,0, 0,0,0,0, 0,0,1,0], // 808 Bass
                [0,0,0,0, 0,0,0,0, 1,0,0,0, 0,0,0,0], // Vocal
                [0,0,0,0, 0,0,0,0, 0,0,0,0, 0,0,0,0], // FX
            ],
            // Pattern B - Hi-Hat Roll
            [
                [1,0,0,0, 0,0,1,0, 0,1,0,0, 0,0,1,0], // 808 Kick
                [0,0,0,0, 1,0,0,0, 0,0,0,0, 1,0,0,0], // Snare
                [1,0,1,1, 1,0,1,1, 1,0,1,1, 1,1,1,1], // Trap Hat (rolls at end)
                [0,0,0,0, 0,0,0,0, 0,0,0,0, 0,0,0,0], // Roll
                [0,0,0,1, 0,0,0,0, 0,0,0,1, 0,0,0,0], // Open HH
                [1,0,0,0, 0,0,1,0, 0,1,0,0, 0,0,1,0], // 808 Bass
                [0,0,0,0, 1,0,0,0, 0,0,0,0, 0,0,0,0], // Vocal
                [0,0,0,0, 0,0,0,0, 0,0,0,1, 0,0,0,0], // FX
            ],
            // Pattern C - Snare Roll Build
            [
                [1,0,0,0, 0,0,1,0, 0,0,0,0, 0,0,1,0], // 808 Kick
                [0,0,0,0, 1,0,0,0, 0,0,0,0, 1,1,1,1], // Snare (roll at end)
                [1,0,1,0, 1,0,1,0, 1,0,1,0, 1,0,1,0], // Trap Hat
                [0,0,0,0, 0,0,0,0, 0,0,0,0, 1,1,1,1], // Roll
                [0,0,0,0, 0,0,1,0, 0,0,0,0, 0,0,0,0], // Open HH
                [1,0,0,0, 0,0,1,0, 0,0,0,0, 0,0,0,0], // 808 Bass
                [1,0,0,0, 0,0,0,0, 0,0,0,0, 0,0,0,0], // Vocal
                [0,0,0,0, 0,0,0,0, 0,0,0,0, 0,0,0,0], // FX
            ],
            // Pattern D - Drop
            [
                [1,0,0,0, 1,0,1,0, 1,0,0,0, 1,0,1,0], // 808 Kick
                [0,0,0,0, 1,0,0,0, 0,0,0,0, 1,0,1,0], // Snare
                [1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1], // Trap Hat
                [0,0,0,0, 0,0,0,0, 0,0,0,0, 0,0,0,0], // Roll
                [0,0,0,1, 0,0,0,1, 0,0,0,1, 0,0,0,0], // Open HH
                [1,0,0,0, 1,0,1,0, 1,0,0,0, 1,0,1,0], // 808 Bass
                [0,0,0,0, 1,0,0,0, 0,0,0,0, 1,0,0,0], // Vocal
                [0,0,1,0, 0,0,0,0, 0,0,1,0, 0,0,0,0], // FX
            ]
        ]
    },

    'dubstep': {
        name: 'Dubstep',
        bpm: 140,
        instruments: [
            { name: 'punchy-snare', displayName: 'Snare' },
            { name: 'hihat', displayName: 'Hi-Hat' },
            { name: 'openhat', displayName: 'Open HH' },
            { name: 'wobble-bass', displayName: 'Wobble' },
            { name: 'reese-bass', displayName: 'Reese' },
            { name: 'zap', displayName: 'Zap' },
            { name: 'noise', displayName: 'Noise' },
            { name: 'crash', displayName: 'Crash' }
        ],
        patterns: [
            // Pattern A - Half-Time Wobble
            [
                [0,0,0,0, 1,0,0,0, 0,0,0,0, 1,0,0,0], // Snare (half-time)
                [1,0,1,1, 1,0,1,1, 1,0,1,1, 1,0,1,1], // Hi-Hat
                [0,0,0,1, 0,0,0,1, 0,0,0,1, 0,0,0,1], // Open HH
                [1,0,0,0, 1,0,0,0, 1,0,0,0, 1,0,0,0], // Wobble (every beat)
                [0,0,0,0, 0,0,0,0, 0,0,0,0, 0,0,0,0], // Reese
                [0,0,1,0, 0,0,0,0, 0,0,1,0, 0,0,0,0], // Zap
                [0,0,0,0, 0,0,0,0, 0,0,0,0, 0,0,0,0], // Noise
                [0,0,0,0, 0,0,0,0, 0,0,0,0, 0,0,0,0], // Crash
            ],
            // Pattern B - Aggressive
            [
                [0,0,0,0, 1,0,0,0, 0,0,0,0, 1,0,1,0], // Snare
                [1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1], // Hi-Hat
                [0,0,0,0, 0,0,0,1, 0,0,0,0, 0,0,0,1], // Open HH
                [1,0,1,0, 1,0,1,0, 1,0,1,0, 1,0,1,0], // Wobble (8th notes)
                [0,0,0,0, 0,0,0,0, 0,0,0,0, 0,0,0,0], // Reese
                [0,1,0,1, 0,1,0,1, 0,1,0,1, 0,1,0,1], // Zap
                [0,0,0,0, 0,0,0,0, 0,0,0,0, 0,0,0,0], // Noise
                [0,0,0,0, 0,0,0,0, 0,0,0,0, 0,0,0,0], // Crash
            ],
            // Pattern C - Breakdown
            [
                [0,0,0,0, 1,0,0,0, 0,0,0,0, 0,0,0,0], // Snare
                [1,0,1,0, 1,0,1,0, 1,0,1,0, 1,0,1,0], // Hi-Hat
                [0,0,0,0, 0,0,1,0, 0,0,0,0, 0,0,1,0], // Open HH
                [0,0,0,0, 0,0,0,0, 0,0,0,0, 0,0,0,0], // Wobble
                [1,0,0,0, 0,0,0,0, 1,0,0,0, 0,0,0,0], // Reese
                [0,0,0,0, 0,0,0,0, 0,0,0,0, 0,0,0,0], // Zap
                [0,0,0,0, 0,0,0,0, 0,0,0,0, 0,0,0,0], // Noise
                [1,0,0,0, 0,0,0,0, 0,0,0,0, 0,0,0,0], // Crash
            ],
            // Pattern D - Drop
            [
                [0,0,0,0, 1,0,0,0, 0,0,0,0, 1,0,0,0], // Snare
                [1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1], // Hi-Hat
                [0,0,0,1, 0,0,0,1, 0,0,0,1, 0,0,0,0], // Open HH
                [1,1,0,0, 1,1,0,0, 1,1,0,0, 1,1,0,0], // Wobble (heavy pattern)
                [1,0,0,0, 0,0,0,0, 1,0,0,0, 0,0,0,0], // Reese
                [0,0,1,0, 0,0,1,0, 0,0,1,0, 0,0,1,0], // Zap
                [1,0,0,0, 0,0,0,0, 1,0,0,0, 0,0,0,0], // Noise
                [1,0,0,0, 0,0,0,0, 0,0,0,0, 0,0,0,0], // Crash
            ]
        ]
    },

    'uk-garage': {
        name: 'UK Garage',
        bpm: 130,
        instruments: [
            { name: 'kick', displayName: 'Kick' },
            { name: 'punchy-snare', displayName: 'Snare' },
            { name: 'shuffle-hat', displayName: 'Shuffle HH' },
            { name: 'openhat', displayName: 'Open HH' },
            { name: 'rimshot', displayName: 'Rim' },
            { name: 'sub-bass', displayName: 'Sub Bass' },
            { name: 'vocal-chop', displayName: 'Vocal' },
            { name: 'perc', displayName: 'Shaker' }
        ],
        patterns: [
            // Pattern A - 2-Step Shuffle
            [
                [1,0,0,0, 0,0,1,0, 0,1,0,0, 0,0,1,0], // Kick (syncopated)
                [0,0,0,0, 1,0,0,0, 0,0,0,0, 1,0,0,0], // Snare
                [1,0,1,1, 1,0,1,1, 1,0,1,1, 1,0,1,1], // Shuffle (triplet feel)
                [0,1,0,0, 0,1,0,1, 0,1,0,0, 0,1,0,1], // Open HH
                [0,0,0,1, 0,0,0,1, 0,0,0,1, 0,0,0,1], // Rim
                [1,0,0,0, 0,0,1,0, 0,1,0,0, 0,0,1,0], // Sub Bass
                [0,0,0,0, 1,0,0,0, 0,0,0,0, 0,0,0,0], // Vocal
                [0,0,1,0, 0,0,0,1, 0,0,1,0, 0,0,0,1], // Shaker
            ],
            // Pattern B - Classic UKG
            [
                [1,0,0,0, 1,0,0,0, 1,0,0,0, 1,0,0,0], // Kick
                [0,0,0,0, 1,0,0,0, 0,0,0,0, 1,0,0,0], // Snare
                [1,0,1,1, 1,0,1,1, 1,0,1,1, 1,0,1,1], // Shuffle
                [0,1,0,0, 0,1,0,1, 0,1,0,0, 0,1,0,0], // Open HH
                [0,0,1,0, 0,0,1,0, 0,0,1,0, 0,0,1,0], // Rim
                [1,0,0,0, 1,0,0,0, 1,0,0,0, 1,0,0,0], // Sub Bass
                [1,0,0,0, 0,0,1,0, 0,0,0,0, 0,0,1,0], // Vocal
                [1,0,1,1, 1,0,1,1, 1,0,1,1, 1,0,1,1], // Shaker
            ],
            // Pattern C - Minimal
            [
                [1,0,0,0, 0,0,1,0, 0,0,0,0, 0,0,1,0], // Kick
                [0,0,0,0, 1,0,0,0, 0,0,0,0, 1,0,0,0], // Snare
                [1,0,1,0, 1,0,1,0, 1,0,1,0, 1,0,1,0], // Shuffle
                [0,0,0,1, 0,0,0,1, 0,0,0,1, 0,0,0,1], // Open HH
                [0,0,0,0, 0,0,0,0, 0,0,0,0, 0,0,0,0], // Rim
                [1,0,0,0, 0,0,1,0, 0,0,0,0, 0,0,1,0], // Sub Bass
                [0,0,0,0, 0,0,0,0, 0,0,0,0, 0,0,0,0], // Vocal
                [0,0,1,0, 0,0,0,0, 0,0,1,0, 0,0,0,0], // Shaker
            ],
            // Pattern D - Full Energy
            [
                [1,0,0,0, 0,0,1,0, 0,1,0,0, 0,0,1,0], // Kick
                [0,0,0,0, 1,0,0,0, 0,0,0,0, 1,0,1,0], // Snare
                [1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1], // Shuffle (constant)
                [0,1,0,1, 0,1,0,1, 0,1,0,1, 0,1,0,1], // Open HH
                [0,0,1,0, 0,0,1,0, 0,0,1,0, 0,0,1,0], // Rim
                [1,0,0,0, 0,0,1,0, 0,1,0,0, 0,0,1,0], // Sub Bass
                [1,0,0,0, 1,0,0,0, 1,0,0,0, 1,0,0,0], // Vocal
                [1,0,1,1, 1,0,1,1, 1,0,1,1, 1,0,1,1], // Shaker
            ]
        ]
    },

    'trance': {
        name: 'Trance',
        bpm: 138,
        instruments: [
            { name: 'hard-kick', displayName: 'Kick' },
            { name: 'punchy-snare', displayName: 'Snare' },
            { name: 'hihat', displayName: 'Hi-Hat' },
            { name: 'openhat', displayName: 'Open HH' },
            { name: 'trance-pluck', displayName: 'Pluck' },
            { name: 'arpeggio', displayName: 'Arp' },
            { name: 'pad', displayName: 'Pad' },
            { name: 'crash', displayName: 'Crash' }
        ],
        patterns: [
            // Pattern A - Uplifting
            [
                [1,0,0,0, 1,0,0,0, 1,0,0,0, 1,0,0,0], // Kick (four-on-floor)
                [0,0,0,0, 1,0,0,0, 0,0,0,0, 1,0,0,0], // Snare
                [1,0,1,0, 1,0,1,0, 1,0,1,0, 1,0,1,0], // Hi-Hat (16ths)
                [0,0,0,0, 0,0,1,0, 0,0,0,0, 0,0,1,0], // Open HH
                [1,0,0,1, 0,1,0,0, 1,0,0,1, 0,1,0,0], // Pluck (melody)
                [1,0,1,0, 1,0,1,0, 1,0,1,0, 1,0,1,0], // Arp
                [1,0,0,0, 0,0,0,0, 1,0,0,0, 0,0,0,0], // Pad
                [0,0,0,0, 0,0,0,0, 0,0,0,0, 0,0,0,0], // Crash
            ],
            // Pattern B - Breakdown
            [
                [1,0,0,0, 0,0,0,0, 1,0,0,0, 0,0,0,0], // Kick (reduced)
                [0,0,0,0, 1,0,0,0, 0,0,0,0, 1,0,0,0], // Snare
                [1,0,1,0, 1,0,1,0, 1,0,1,0, 1,0,1,0], // Hi-Hat
                [0,0,0,0, 0,0,1,0, 0,0,0,0, 0,0,1,0], // Open HH
                [1,0,0,0, 0,0,1,0, 0,0,0,0, 0,0,1,0], // Pluck
                [1,0,1,0, 1,0,1,0, 1,0,1,0, 1,0,1,0], // Arp
                [1,0,0,0, 1,0,0,0, 1,0,0,0, 1,0,0,0], // Pad (sustained)
                [1,0,0,0, 0,0,0,0, 0,0,0,0, 0,0,0,0], // Crash
            ],
            // Pattern C - Build
            [
                [1,0,0,0, 1,0,1,0, 1,0,1,0, 1,1,1,1], // Kick (building)
                [0,0,0,0, 1,0,0,0, 0,0,0,0, 1,1,1,1], // Snare
                [1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1], // Hi-Hat (constant)
                [0,0,0,0, 0,0,0,0, 0,0,0,0, 1,1,1,1], // Open HH
                [0,0,0,0, 1,0,0,0, 0,0,0,0, 0,0,0,0], // Pluck
                [1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1], // Arp (intense)
                [1,0,0,0, 1,0,0,0, 1,0,0,0, 1,0,0,0], // Pad
                [0,0,0,0, 0,0,0,0, 0,0,0,0, 0,0,0,1], // Crash
            ],
            // Pattern D - Drop
            [
                [1,0,0,0, 1,0,0,0, 1,0,0,0, 1,0,0,0], // Kick
                [0,0,0,0, 1,0,0,0, 0,0,0,0, 1,0,0,0], // Snare
                [1,0,1,0, 1,0,1,0, 1,0,1,0, 1,0,1,0], // Hi-Hat
                [0,0,0,1, 0,0,0,1, 0,0,0,1, 0,0,0,1], // Open HH
                [1,0,0,1, 0,1,0,1, 1,0,0,1, 0,1,0,1], // Pluck (full melody)
                [1,0,1,0, 1,0,1,0, 1,0,1,0, 1,0,1,0], // Arp
                [1,0,0,0, 0,0,0,0, 1,0,0,0, 0,0,0,0], // Pad
                [1,0,0,0, 0,0,0,0, 0,0,0,0, 0,0,0,0], // Crash
            ]
        ]
    },

    'ambient': {
        name: 'Ambient',
        bpm: 90,
        instruments: [
            { name: 'kick', displayName: 'Kick' },
            { name: 'rimshot', displayName: 'Rim' },
            { name: 'hihat', displayName: 'Hi-Hat' },
            { name: 'ambient-pad', displayName: 'Pad' },
            { name: 'bell', displayName: 'Bell' },
            { name: 'pluck', displayName: 'Pluck' },
            { name: 'perc', displayName: 'Perc' },
            { name: 'noise', displayName: 'Texture' }
        ],
        patterns: [
            // Pattern A - Sparse
            [
                [1,0,0,0, 0,0,0,0, 0,0,0,0, 0,0,0,0], // Kick (minimal)
                [0,0,0,0, 0,0,1,0, 0,0,0,0, 0,0,1,0], // Rim
                [0,0,1,0, 0,0,0,0, 0,0,1,0, 0,0,0,0], // Hi-Hat
                [1,0,0,0, 0,0,0,0, 1,0,0,0, 0,0,0,0], // Pad
                [0,0,0,0, 1,0,0,0, 0,0,0,0, 0,0,0,0], // Bell
                [0,1,0,0, 0,0,0,1, 0,0,0,0, 0,0,0,0], // Pluck
                [0,0,0,1, 0,0,0,1, 0,0,0,1, 0,0,0,1], // Perc
                [0,0,0,0, 0,0,0,0, 0,0,0,0, 0,0,0,0], // Texture
            ],
            // Pattern B - Evolving
            [
                [1,0,0,0, 0,0,0,0, 1,0,0,0, 0,0,0,0], // Kick
                [0,0,0,0, 0,0,1,0, 0,0,0,0, 0,0,1,0], // Rim
                [0,0,1,0, 0,0,1,0, 0,0,1,0, 0,0,1,0], // Hi-Hat
                [1,0,0,0, 1,0,0,0, 1,0,0,0, 1,0,0,0], // Pad (sustained)
                [0,0,0,1, 0,0,0,0, 0,0,0,1, 0,0,0,0], // Bell
                [0,1,0,0, 0,0,1,0, 0,1,0,0, 0,0,0,1], // Pluck
                [0,0,1,0, 0,0,1,0, 0,0,1,0, 0,0,1,0], // Perc
                [1,0,0,0, 0,0,0,0, 1,0,0,0, 0,0,0,0], // Texture
            ],
            // Pattern C - Textural
            [
                [0,0,0,0, 0,0,0,0, 0,0,0,0, 0,0,0,0], // Kick (none)
                [0,0,0,1, 0,0,0,0, 0,0,0,1, 0,0,0,0], // Rim
                [1,0,0,0, 1,0,0,0, 1,0,0,0, 1,0,0,0], // Hi-Hat (soft)
                [1,0,0,0, 0,0,0,0, 0,0,0,0, 0,0,0,0], // Pad
                [0,0,1,0, 0,0,0,0, 0,0,1,0, 0,0,0,0], // Bell
                [0,0,0,0, 0,1,0,0, 0,0,0,0, 0,0,0,0], // Pluck
                [0,1,0,1, 0,1,0,1, 0,1,0,1, 0,1,0,1], // Perc
                [1,0,0,0, 0,0,0,0, 0,0,0,0, 0,0,0,0], // Texture
            ],
            // Pattern D - Rhythmic
            [
                [1,0,0,0, 0,0,0,0, 0,0,1,0, 0,0,0,0], // Kick
                [0,0,1,0, 0,0,1,0, 0,0,1,0, 0,0,1,0], // Rim
                [0,0,1,0, 0,0,0,0, 0,0,1,0, 0,0,0,0], // Hi-Hat
                [1,0,0,0, 1,0,0,0, 1,0,0,0, 1,0,0,0], // Pad
                [0,1,0,0, 0,0,1,0, 0,1,0,0, 0,0,0,0], // Bell
                [1,0,0,1, 0,1,0,0, 1,0,0,1, 0,0,0,0], // Pluck
                [0,0,1,0, 0,0,1,0, 0,0,1,0, 0,0,1,0], // Perc
                [0,0,0,0, 0,0,0,0, 1,0,0,0, 0,0,0,0], // Texture
            ]
        ]
    },

    'lofi': {
        name: 'Lo-Fi Hip Hop',
        bpm: 85,
        instruments: [
            { name: 'lofi-kick', displayName: 'Lofi Kick' },
            { name: 'lofi-snare', displayName: 'Lofi Snare' },
            { name: 'lofi-hat', displayName: 'Lofi Hat' },
            { name: 'rimshot', displayName: 'Rim' },
            { name: 'vinyl-crackle', displayName: 'Vinyl' },
            { name: 'jazz-chord', displayName: 'Jazz Chord' },
            { name: 'sub-bass', displayName: 'Sub Bass' },
            { name: 'tape-stop', displayName: 'Tape Stop' }
        ],
        patterns: [
            // Pattern A - Classic Lofi
            [
                [1,0,0,0, 0,0,0,0, 0,0,1,0, 0,0,0,0], // Lofi Kick
                [0,0,0,0, 1,0,0,0, 0,0,0,0, 1,0,0,0], // Lofi Snare
                [1,0,1,0, 1,0,1,0, 1,0,1,0, 1,0,1,0], // Lofi Hat
                [0,0,0,1, 0,0,0,0, 0,0,0,1, 0,0,0,0], // Rim
                [1,0,0,0, 0,0,0,0, 0,0,0,0, 0,0,0,0], // Vinyl (subtle)
                [1,0,0,0, 0,0,0,0, 1,0,0,0, 0,0,0,0], // Jazz Chord
                [1,0,0,0, 0,0,0,0, 0,0,1,0, 0,0,0,0], // Sub Bass
                [0,0,0,0, 0,0,0,0, 0,0,0,0, 0,0,0,0], // Tape Stop
            ],
            // Pattern B - Laid Back
            [
                [1,0,0,0, 0,0,0,0, 0,0,1,0, 0,0,0,0], // Lofi Kick
                [0,0,0,0, 1,0,0,1, 0,0,0,0, 1,0,0,0], // Lofi Snare (ghost note)
                [1,0,1,0, 1,0,1,1, 1,0,1,0, 1,0,1,1], // Lofi Hat (swing)
                [0,0,0,0, 0,0,0,0, 0,0,0,0, 0,0,0,1], // Rim
                [0,0,0,0, 0,0,1,0, 0,0,0,0, 0,0,0,0], // Vinyl
                [1,0,0,0, 0,0,1,0, 0,0,0,0, 0,0,1,0], // Jazz Chord
                [1,0,0,0, 0,0,0,0, 0,0,1,0, 0,0,0,1], // Sub Bass
                [0,0,0,0, 0,0,0,0, 0,0,0,0, 0,0,0,0], // Tape Stop
            ],
            // Pattern C - Jazzy
            [
                [1,0,0,0, 0,0,0,0, 0,0,1,0, 0,0,0,0], // Lofi Kick
                [0,0,0,0, 1,0,0,0, 0,0,0,0, 1,0,1,0], // Lofi Snare
                [1,0,0,1, 0,1,0,1, 1,0,0,1, 0,1,0,1], // Lofi Hat (jazz rhythm)
                [0,0,1,0, 0,0,0,1, 0,0,1,0, 0,0,0,0], // Rim
                [1,0,0,0, 0,0,0,0, 1,0,0,0, 0,0,0,0], // Vinyl
                [1,0,0,0, 0,0,0,0, 0,0,1,0, 0,0,0,0], // Jazz Chord
                [1,0,0,0, 0,0,0,0, 0,0,1,0, 0,1,0,0], // Sub Bass
                [0,0,0,0, 0,0,0,0, 0,0,0,0, 0,0,0,0], // Tape Stop
            ],
            // Pattern D - Outro (with tape stop)
            [
                [1,0,0,0, 0,0,0,0, 0,0,1,0, 0,0,0,0], // Lofi Kick
                [0,0,0,0, 1,0,0,0, 0,0,0,0, 1,0,0,0], // Lofi Snare
                [1,0,1,0, 1,0,1,0, 1,0,1,0, 1,0,1,0], // Lofi Hat
                [0,0,0,0, 0,0,0,0, 0,0,0,0, 0,0,0,0], // Rim
                [0,0,0,0, 0,0,0,0, 0,0,0,0, 0,0,0,0], // Vinyl
                [1,0,0,0, 0,0,0,0, 0,0,0,0, 0,0,0,0], // Jazz Chord
                [1,0,0,0, 0,0,0,0, 0,0,0,0, 0,0,0,0], // Sub Bass
                [0,0,0,0, 0,0,0,0, 0,0,0,0, 0,0,0,1], // Tape Stop (end)
            ]
        ]
    }
};

/**
 * Load preset into sequencer
 */
function loadPreset(presetId) {
    const preset = PRESETS[presetId];
    if (!preset) return false;

    // Set BPM
    sequencer.setBPM(preset.bpm);

    // Set instruments per track
    if (preset.instruments) {
        preset.instruments.forEach((inst, trackIndex) => {
            sequencer.setTrackInstrument(trackIndex, inst.name, inst.displayName);
        });
    }

    // Load all patterns
    preset.patterns.forEach((pattern, patternIndex) => {
        // Pattern is now an array of 8 tracks (each track is an array of 16 steps)
        pattern.forEach((trackData, trackIndex) => {
            trackData.forEach((value, step) => {
                sequencer.setNote(trackIndex, step, value === 1, patternIndex);
            });
        });
    });

    return true;
}

/**
 * Get all preset options for UI
 */
function getPresetOptions() {
    return Object.keys(PRESETS).map(id => ({
        id: id,
        name: PRESETS[id].name
    }));
}
